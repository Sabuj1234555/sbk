import json
import os

# ржЖржкржирж╛рж░ JSON ржбрзЗржЯрж╛
data = {
  "questions": [
    {
      "id": 1,
      "question": "рждрзЛржорж╛рж░ ржирж╛ржо ржХрж┐",
      "answer": "ржЖржорж╛рж░ ржирж╛ржо SBK AI ржЪрзНржпрж╛ржЯржмржЯред ржЖржорж┐ ржЖржкржирж╛рж░ рж╕рж╣рж╛ржпрж╝ржХ AIред",
      "category": "general"
    },
    {
      "id": 2,
      "question": "html ржХрж┐",
      "answer": "HTML рж╣рж▓рзЛ HyperText Markup Language, ржпрж╛ ржУржпрж╝рзЗржмржкрзЗржЬ рждрзИрж░рж┐ ржХрж░рждрзЗ ржмрзНржпржмрж╣рзГржд рж╣ржпрж╝ред",
      "category": "programming"
    },
    {
      "id": 3,
      "question": "ржкрж╛ржЗржержи ржХрж┐",
      "answer": "ржкрж╛ржЗржержи ржПржХржЯрж┐ ржЬржиржкрзНрж░рж┐ржпрж╝ ржкрзНрж░рзЛржЧрзНрж░рж╛ржорж┐ржВ ржнрж╛рж╖рж╛ ржпрж╛ рж╕рж╣ржЬрзЗ рж╢рзЗржЦрж╛ ржпрж╛ржпрж╝ ржПржмржВ ржмрж╣рзБржорзБржЦрзА ржХрж╛ржЬрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛ржпрж╝ред",
      "category": "programming"
    },
    {
      "id": 4,
      "question": "javascript ржХрж┐",
      "answer": "JavaScript ржПржХржЯрж┐ ржкрзНрж░рзЛржЧрзНрж░рж╛ржорж┐ржВ ржнрж╛рж╖рж╛ ржпрж╛ ржУржпрж╝рзЗржмржкрзЗржЬржХрзЗ ржЗржирзНржЯрж╛рж░рзЗржХрзНржЯрж┐ржн ржХрж░рзЗ рждрзЛрж▓рзЗред",
      "category": "programming"
    },
    {
      "id": 5,
      "question": "ржзржирзНржпржмрж╛ржж",
      "answer": "ржЖржкржирж╛ржХрзЗржУ ржзржирзНржпржмрж╛ржж! ржЖржкржирж╛рж░ рж╕рж╛ржерзЗ ржХржерж╛ ржмрж▓рзЗ ржнрж╛рж▓рзЛ рж▓рж╛ржЧрж▓уАВ",
      "category": "general"
    },
    {
      "id": 6,
      "question": "рж╣рзНржпрж╛рж▓рзЛ",
      "answer": "рж╣рзНржпрж╛рж▓рзЛ! ржЖржорж┐ SBK AI ржЪрзНржпрж╛ржЯржмржЯред ржЖржкржирж╛рж░ ржХрзА рж╕рж╛рж╣рж╛ржпрзНржп рж▓рж╛ржЧржмрзЗ?",
      "category": "general"
    },
    {
      "id": 7,
      "question": "рждрзБржорж┐ ржХрж┐ ржХрж░рждрзЗ ржкрж╛рж░рзЛ",
      "answer": "ржЖржорж┐ ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржХрж╛ржЬржЧрзБрж▓рзЛ ржХрж░рждрзЗ ржкрж╛рж░рж┐:\nтАв ржкрзНрж░рж╢рзНржирзЗрж░ ржЙрждрзНрждрж░ ржжрж┐рждрзЗ ржкрж╛рж░рж┐\nтАв JSON ржлрж╛ржЗрж▓ ржерзЗржХрзЗ ржбрзЗржЯрж╛ ржкржбрж╝рждрзЗ ржкрж╛рж░рж┐\nтАв ржмрж┐ржнрж┐ржирзНржи ржкрзНрж░рзЛржЧрзНрж░рж╛ржорж┐ржВ ржнрж╛рж╖рж╛ржпрж╝ ржХрзЛржб рж▓рж┐ржЦрждрзЗ ржкрж╛рж░рж┐\nтАв ржирждрзБржи ржЪрзНржпрж╛ржЯ рж╢рзБрж░рзБ ржХрж░рждрзЗ ржкрж╛рж░рж┐\nтАв ржкрзНрж░рж╢рзНржи-ржЙрждрзНрждрж░ ржПржбрж┐ржЯ ржХрж░рждрзЗ ржкрж╛рж░рж┐",
      "category": "general"
    }
  ]
}

# Django fixture ржлрж░ржорзНржпрж╛ржЯрзЗ ржХржиржнрж╛рж░рзНржЯ ржХрж░рзБржи
fixture_data = []
for i, q in enumerate(data['questions'], 1):
    fixture_data.append({
        "model": "ai.qa",
        "pk": i,
        "fields": {
            "question": q['question'],
            "answer": q['answer'],
            "category": q['category']
        }
    })

# fixtures ржбрж┐рж░рзЗржХрзНржЯрж░рж┐ рждрзИрж░рж┐ ржХрж░рзБржи
os.makedirs('ai/fixtures', exist_ok=True)

# ржлрж╛ржЗрж▓рзЗ рж╕рзЗржн ржХрж░рзБржи
with open('ai/fixtures/qa.json', 'w', encoding='utf-8') as f:
    json.dump(fixture_data, f, ensure_ascii=False, indent=2)

print('тЬЕ qa.json ржлрж╛ржЗрж▓ржЯрж┐ ai/fixtures/ ржлрзЛрж▓рзНржбрж╛рж░рзЗ рждрзИрж░рж┐ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ!')
print('ЁЯУБ ржПржЦржи ржЪрж╛рж▓рж╛ржи: python manage.py loaddata qa.json')
